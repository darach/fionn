<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500" font-family="Inter, -apple-system, sans-serif">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.12"/>
    </filter>
    <linearGradient id="node-obj" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#4f46e5"/>
    </linearGradient>
    <linearGradient id="node-str" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </linearGradient>
    <linearGradient id="node-num" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#22c55e"/>
      <stop offset="100%" style="stop-color:#16a34a"/>
    </linearGradient>
    <linearGradient id="node-bool" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <linearGradient id="node-skip" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ef4444"/>
      <stop offset="100%" style="stop-color:#dc2626"/>
    </linearGradient>
  </defs>

  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" font-size="18" font-weight="700" fill="#111827">Standard Tape vs Skip Tape Comparison</text>

  <!-- Input -->
  <g transform="translate(50, 55)">
    <text x="0" y="0" font-size="12" font-weight="600" fill="#374151">Input JSON:</text>
    <rect x="0" y="10" width="800" height="30" rx="4" fill="#f3f4f6" stroke="#d1d5db"/>
    <text x="15" y="30" font-family="JetBrains Mono, monospace" font-size="11" fill="#374151">{"id":1,"name":"Alice","secret":"hidden","active":true}</text>
  </g>

  <!-- Schema -->
  <g transform="translate(50, 110)">
    <rect x="0" y="0" width="200" height="30" rx="4" fill="#ecfdf5" stroke="#86efac"/>
    <text x="15" y="20" font-size="11" fill="#166534"><tspan font-weight="600">Schema:</tspan> ["id", "active"]</text>
  </g>

  <!-- Standard Tape -->
  <g transform="translate(50, 165)">
    <text x="0" y="0" font-size="14" font-weight="600" fill="#374151">Standard Tape (simdjson/simd-json)</text>
    <text x="0" y="18" font-size="11" fill="#6b7280">All fields parsed and materialized</text>

    <g transform="translate(0, 35)">
      <!-- Nodes -->
      <g filter="url(#shadow)">
        <rect x="0" y="0" width="70" height="55" rx="6" fill="url(#node-obj)"/>
        <text x="35" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">ObjectStart</text>
        <text x="35" y="42" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.7)">64 bytes</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="80" y="0" width="70" height="55" rx="6" fill="url(#node-str)"/>
        <text x="115" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">String</text>
        <text x="115" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">"id"</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="160" y="0" width="70" height="55" rx="6" fill="url(#node-num)"/>
        <text x="195" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">Number</text>
        <text x="195" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">1</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="240" y="0" width="70" height="55" rx="6" fill="url(#node-str)"/>
        <text x="275" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">String</text>
        <text x="275" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">"name"</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="320" y="0" width="70" height="55" rx="6" fill="url(#node-str)"/>
        <text x="355" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">String</text>
        <text x="355" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">"Alice"</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="400" y="0" width="70" height="55" rx="6" fill="url(#node-str)"/>
        <text x="435" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">String</text>
        <text x="435" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">"secret"</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="480" y="0" width="70" height="55" rx="6" fill="url(#node-str)"/>
        <text x="515" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">String</text>
        <text x="515" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">"hidden"</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="560" y="0" width="70" height="55" rx="6" fill="url(#node-str)"/>
        <text x="595" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">String</text>
        <text x="595" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">"active"</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="640" y="0" width="70" height="55" rx="6" fill="url(#node-bool)"/>
        <text x="675" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">Bool</text>
        <text x="675" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">true</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="720" y="0" width="70" height="55" rx="6" fill="url(#node-obj)"/>
        <text x="755" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">ObjectEnd</text>
      </g>
    </g>

    <!-- Stats -->
    <g transform="translate(0, 100)">
      <rect x="0" y="0" width="250" height="24" rx="4" fill="#fef2f2" stroke="#fecaca"/>
      <text x="10" y="16" font-size="10" fill="#991b1b">10 nodes = 640 bytes + string arena overhead</text>
    </g>
  </g>

  <!-- Skip Tape -->
  <g transform="translate(50, 325)">
    <text x="0" y="0" font-size="14" font-weight="600" fill="#374151">Skip Tape (fionn)</text>
    <text x="0" y="18" font-size="11" fill="#6b7280">Only schema-matching fields parsed; others replaced with SkipMarkers</text>

    <g transform="translate(0, 35)">
      <!-- Nodes -->
      <g filter="url(#shadow)">
        <rect x="0" y="0" width="70" height="55" rx="6" fill="url(#node-obj)"/>
        <text x="35" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">ObjectStart</text>
        <text x="35" y="42" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.7)">64 bytes</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="80" y="0" width="70" height="55" rx="6" fill="url(#node-str)"/>
        <text x="115" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">String</text>
        <text x="115" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">"id"</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="160" y="0" width="70" height="55" rx="6" fill="url(#node-num)"/>
        <text x="195" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">Number</text>
        <text x="195" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">1</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="240" y="0" width="100" height="55" rx="6" fill="url(#node-skip)"/>
        <text x="290" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">SkipMarker</text>
        <text x="290" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">name, secret</text>
        <text x="290" y="50" text-anchor="middle" font-size="7" fill="rgba(255,255,255,0.6)">not parsed</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="350" y="0" width="70" height="55" rx="6" fill="url(#node-str)"/>
        <text x="385" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">String</text>
        <text x="385" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">"active"</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="430" y="0" width="70" height="55" rx="6" fill="url(#node-bool)"/>
        <text x="465" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">Bool</text>
        <text x="465" y="38" text-anchor="middle" font-size="8" fill="rgba(255,255,255,0.8)">true</text>
      </g>

      <g filter="url(#shadow)">
        <rect x="510" y="0" width="70" height="55" rx="6" fill="url(#node-obj)"/>
        <text x="545" y="22" text-anchor="middle" font-size="9" fill="white" font-weight="600">ObjectEnd</text>
      </g>
    </g>

    <!-- Stats -->
    <g transform="translate(0, 100)">
      <rect x="0" y="0" width="350" height="24" rx="4" fill="#ecfdf5" stroke="#86efac"/>
      <text x="10" y="16" font-size="10" fill="#166534">7 nodes = 448 bytes + smaller arena (no "name", "Alice", "secret", "hidden")</text>
    </g>
  </g>

  <!-- Legend -->
  <g transform="translate(50, 475)">
    <rect x="0" y="-5" width="16" height="16" rx="3" fill="url(#node-obj)"/>
    <text x="22" y="7" font-size="10" fill="#374151">Object</text>

    <rect x="80" y="-5" width="16" height="16" rx="3" fill="url(#node-str)"/>
    <text x="102" y="7" font-size="10" fill="#374151">String</text>

    <rect x="160" y="-5" width="16" height="16" rx="3" fill="url(#node-num)"/>
    <text x="182" y="7" font-size="10" fill="#374151">Number</text>

    <rect x="240" y="-5" width="16" height="16" rx="3" fill="url(#node-bool)"/>
    <text x="262" y="7" font-size="10" fill="#374151">Bool</text>

    <rect x="310" y="-5" width="16" height="16" rx="3" fill="url(#node-skip)"/>
    <text x="332" y="7" font-size="10" fill="#374151">SkipMarker (novel)</text>
  </g>
</svg>